<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI & DS Club Entry Form</title>
    <!-- <link rel="stylesheet" href="styles.css" /> -->
    <link rel="icon" type="image/x-icon" href="images/logo.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.10.2/dist/cdn.min.js"
      defer
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/flowbite@1.6.5/dist/flowbite.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/supabase.min.js"></script>
  </head>

  <body>
    <section id="join">
      <div
        class="flex justify-center items-center min-h-screen bg-gradient-to-br from-pink-400 via-purple-400 via-blue-400 via-green-300 to-yellow-300 py-4 px-2 sm:px-6"
      >
        <form
          id="club-entry-form"
          action="https://script.google.com/macros/s/AKfycbxXluUYDQJic9pK95YX4uP4VF-BJEYgi9Uh85l9kf9WlRCdffopcVAIJKNZorhvr-Cc/exec"
          method="POST"
          class="w-full max-w-lg sm:max-w-md md:max-w-lg bg-white bg-opacity-20 backdrop-blur-2xl rounded-2xl shadow-2xl p-4 sm:p-8 border border-white border-opacity-30"
        >
          <h2
            class="text-2xl sm:text-3xl font-bold text-center text-cyan-400 mb-4 sm:mb-6 tracking-wide"
          >
            Department Club Entry Form
          </h2>
          <div class="mb-4 sm:mb-6">
            <label
              for="name"
              class="block text-base sm:text-lg font-semibold text-white mb-2"
              >Full Name</label
            >
            <input
              type="text"
              id="name"
              name="name"
              required
              placeholder="Enter your name"
              class="w-full px-3 py-2 sm:px-4 sm:py-3 rounded-lg bg-white-800 text-black focus:outline-none focus:ring-2 focus:ring-cyan-400"
            />
          </div>
          <div class="mb-4 sm:mb-6">
            <label
              for="Year"
              class="block text-base sm:text-lg font-semibold text-white mb-2"
              >Year</label
            >
            <select
              id="Year"
              name="Year"
              required
              class="w-full px-3 py-2 sm:px-4 sm:py-3 rounded-lg bg-white-800 text-black focus:outline-none focus:ring-2 focus:ring-cyan-400"
            >
              <option value="" disabled selected>Select your Year</option>
              <option value="T.Y">T.Y</option>
              <option value="S.Y">S.Y</option>
              <option value="F.Y">F.Y</option>
            </select>
          </div>
          <div class="mb-4 sm:mb-6">
            <div class="text-lg sm:text-xl font-bold text-cyan-300 mb-2">
              Technical Club
            </div>
            <div class="flex flex-wrap gap-2 sm:gap-4">
              <label
                class="flex items-center gap-2 bg-white-700 px-3 py-2 sm:px-4 sm:py-2 rounded-lg cursor-pointer hover:bg-cyan-700 transition w-full sm:w-auto"
              >
                <input
                  type="radio"
                  name="tech_club"
                  value="AI & ML"
                  required
                  class="accent-cyan-400"
                />
                <span class="text-white">AI and Robotics</span>
              </label>
              <label
                class="flex items-center gap-2 bg-white-700 px-3 py-2 sm:px-4 sm:py-2 rounded-lg cursor-pointer hover:bg-cyan-700 transition w-full sm:w-auto"
              >
                <input
                  type="radio"
                  name="tech_club"
                  value="Linux"
                  required
                  class="accent-cyan-400"
                />
                <span class="text-white">Linux and Cyber Security</span>
              </label>
              <label
                class="flex items-center gap-2 bg-white-700 px-3 py-2 sm:px-4 sm:py-2 rounded-lg cursor-pointer hover:bg-cyan-700 transition w-full sm:w-auto"
              >
                <input
                  type="radio"
                  name="tech_club"
                  value="Inter"
                  required
                  class="accent-cyan-400"
                />
                <span class="text-white">Compi coding & Web Development</span>
              </label>
              <label
                class="flex items-center gap-2 bg-white-700 px-3 py-2 sm:px-4 sm:py-2 rounded-lg cursor-pointer hover:bg-cyan-700 transition w-full sm:w-auto"
              >
                <input
                  type="radio"
                  name="tech_club"
                  value="Other"
                  required
                  class="accent-cyan-400"
                />
                <span class="text-white">Inovation and Design</span>
              </label>
            </div>
          </div>
          <div class="mb-6">
            <div class="text-lg sm:text-xl font-bold text-cyan-300 mb-2">
              Non-Tech Club
            </div>
            <div class="flex flex-wrap gap-2 sm:gap-4">
              <label
                class="flex items-center gap-2 bg-white-700 px-3 py-2 sm:px-4 sm:py-2 rounded-lg cursor-pointer hover:bg-cyan-700 transition w-full sm:w-auto"
              >
                <input
                  type="radio"
                  name="nontech_club"
                  value="Linguistic"
                  required
                  class="accent-cyan-400"
                />
                <span class="text-white">Linguistic</span>
              </label>
              <label
                class="flex items-center gap-2 bg-white-700 px-3 py-2 sm:px-4 sm:py-2 rounded-lg cursor-pointer hover:bg-cyan-700 transition w-full sm:w-auto"
              >
                <input
                  type="radio"
                  name="nontech_club"
                  value="Sports"
                  required
                  class="accent-cyan-400"
                />
                <span class="text-white">Sports</span>
              </label>
              <label
                class="flex items-center gap-2 bg-white-700 px-3 py-2 sm:px-4 sm:py-2 rounded-lg cursor-pointer hover:bg-cyan-700 transition w-full sm:w-auto"
              >
                <input
                  type="radio"
                  name="nontech_club"
                  value="Arts"
                  required
                  class="accent-cyan-400"
                />
                <span class="text-white">Arts</span>
              </label>
              <label
                class="flex items-center gap-2 bg-white-700 px-3 py-2 sm:px-4 sm:py-2 rounded-lg cursor-pointer hover:bg-cyan-700 transition w-full sm:w-auto"
              >
                <input
                  type="radio"
                  name="nontech_club"
                  value="Social"
                  required
                  class="accent-cyan-400"
                />
                <span class="text-white">Social(Adhar)</span>
              </label>
            </div>
          </div>
          <button
            type="submit"
            id="submitButton"
            class="w-full py-3 rounded-lg bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 text-white font-bold text-lg shadow-lg hover:from-blue-500 hover:to-pink-400 transition flex items-center justify-center gap-2"
          >
            <span>Submit</span>
            <span id="loadingSpinner" class="hidden">
              <svg
                class="animate-spin h-5 w-5 text-white"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
              >
                <circle
                  class="opacity-25"
                  cx="12"
                  cy="12"
                  r="10"
                  stroke="currentColor"
                  stroke-width="4"
                ></circle>
                <path
                  class="opacity-75"
                  fill="currentColor"
                  d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"
                ></path>
              </svg>
            </span>
          </button>
        </form>
      </div>
      <!-- Modal -->
      <div
        id="successModal"
        class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 hidden px-2"
      >
        <div
          class="bg-white rounded-2xl shadow-2xl p-4 sm:p-8 max-w-sm w-full text-center"
        >
          <h3 class="text-xl sm:text-2xl font-bold text-green-500 mb-2 sm:mb-4">
            Submission Successful!
          </h3>
          <p class="text-gray-700 mb-4 sm:mb-6">
            Thank you for joining the club. Your response has been recorded.
          </p>
          <button
            id="closeModalBtn"
            class="px-4 py-2 sm:px-6 sm:py-2 rounded-lg bg-gradient-to-r from-green-400 to-blue-400 text-white font-semibold shadow hover:from-blue-400 hover:to-green-400 transition"
          >
            OK
          </button>
        </div>
      </div>
    </section>
    <script>
      // Modal logic
      const form = document.getElementById("club-entry-form");
      const modal = document.getElementById("successModal");
      const closeModalBtn = document.getElementById("closeModalBtn");
      const submitButton = document.getElementById("submitButton");
      const loadingSpinner = document.getElementById("loadingSpinner");
      form.addEventListener("submit", function (e) {
        e.preventDefault();
        submitButton.disabled = true;
        loadingSpinner.classList.remove("hidden");
        // Submit via fetch to Google Apps Script
        fetch(form.action, {
          method: "POST",
          body: new FormData(form),
        })
          .then(() => {
            modal.classList.remove("hidden");
            form.reset();
          })
          .catch(() => {
            alert("Submission failed. Please try again.");
          })
          .finally(() => {
            submitButton.disabled = false;
            loadingSpinner.classList.add("hidden");
          });
      });
      closeModalBtn.addEventListener("click", function () {
        modal.classList.add("hidden");
      });
    </script>
    <script src="script.js"></script>
  </body>
</html>
